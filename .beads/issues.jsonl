{"id":"service_status-081","title":"Add graceful shutdown with signal handling","description":"## Task 6: Graceful Shutdown\n\n### Goal\nImplement clean application shutdown when receiving SIGINT (Ctrl+C) or SIGTERM.\n\n### Implementation\n\n```go\nfunc main() {\n    // ... setup code ...\n    \n    // Create context that cancels on SIGINT/SIGTERM\n    ctx, stop := signal.NotifyContext(context.Background(), \n        syscall.SIGINT, syscall.SIGTERM)\n    defer stop()\n    \n    // Start polling in background\n    go monitor.Start(ctx, checkFn, interval)\n    \n    // Start HTTP server (with graceful shutdown)\n    srv := \u0026http.Server{Addr: \":8080\", Handler: mux}\n    go func() {\n        if err := srv.ListenAndServe(); err != http.ErrServerClosed {\n            log.Fatal(err)\n        }\n    }()\n    \n    // Wait for shutdown signal\n    \u003c-ctx.Done()\n    log.Println(\"Shutting down...\")\n    \n    // Graceful HTTP shutdown with timeout\n    shutdownCtx, cancel := context.WithTimeout(context.Background(), 5*time.Second)\n    defer cancel()\n    srv.Shutdown(shutdownCtx)\n    \n    // Close storage\n    storage.Close()\n    \n    log.Println(\"Shutdown complete\")\n}\n```\n\n### Requirements\n- Handle SIGINT and SIGTERM\n- Cancel polling context to stop background goroutine\n- Graceful HTTP server shutdown (finish in-flight requests)\n- Close storage/database connections\n- Log shutdown progress\n\n### Acceptance Criteria\n- [ ] signal.NotifyContext handles SIGINT/SIGTERM\n- [ ] Polling goroutine stops cleanly\n- [ ] HTTP server shuts down gracefully\n- [ ] Storage is closed properly\n- [ ] Shutdown completes within reasonable timeout\n- [ ] Clear log messages for shutdown progress","status":"open","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:28:38.2423Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:28:38.2423Z","dependencies":[{"issue_id":"service_status-081","depends_on_id":"service_status-ito","type":"blocks","created_at":"2026-01-23T16:28:51.912467Z","created_by":"Sion Williams"},{"issue_id":"service_status-081","depends_on_id":"service_status-v1k","type":"blocks","created_at":"2026-01-23T16:28:59.919295Z","created_by":"Sion Williams"}]}
{"id":"service_status-23n","title":"Add TCP port check (nc) support","description":"Inspired by Cyclenerd/static_status: Add support for TCP port checks using netcat (nc) to verify if a specific port on a host is open and accepting connections.\n\nThe static_status project supports this via:\n```\nnc;8.8.8.8|DNS @ Google;53\n```\n\nThis would allow monitoring services like:\n- Database ports (MySQL 3306, PostgreSQL 5432)\n- SMTP (25/587)\n- Custom service ports\n\nImplementation: Add a new 'tcp' check type that takes a host and port, using Go's net.Dial() to test connectivity.","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:14.030102Z","created_by":"Sion Williams","updated_at":"2026-01-22T15:00:25.968847Z","closed_at":"2026-01-22T15:00:25.968847Z","close_reason":"Implemented TCP port check (nc) support with TCPFactory, proper timeout constant, port validation, and comprehensive tests. All code review feedback addressed."}
{"id":"service_status-26x","title":"Missing response body close in Ping.Status()","description":"File: status/check.go:52-61\n\nResponse body is not closed in Ping.Status(), causing a potential resource leak.\n\nFix: Add defer resp.Body.Close() after successful http.Get().","status":"closed","priority":2,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.430899Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:07:16.7928Z","closed_at":"2026-01-22T08:07:16.7928Z","close_reason":"Fixed in commit 2d189a9"}
{"id":"service_status-3u3","title":"Add alert/notification system","description":"Inspired by Cyclenerd/static_status: Add an alerting system to notify when services go down or recover.\n\nThe static_status project includes alert.sh supporting:\n- Email (via mutt)\n- SMS (via sipgate)\n- Pushover notifications\n- Custom notification scripts\n- Configurable alert thresholds (notify after N seconds down)\n- Recovery notifications (when service comes back up)\n- De-duplication (don't spam with repeated alerts)\n\nImplementation considerations:\n- Create notification interface for extensibility\n- Support webhook notifications (modern approach)\n- Email via SMTP\n- Slack/Discord webhooks\n- Alert cooldown/throttling\n- Store notification state to prevent duplicates\n\nThis is higher priority as alerting is essential for production monitoring.","status":"closed","priority":2,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:29.136774Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:53:47.487028Z","closed_at":"2026-01-22T13:53:47.487028Z","close_reason":"Implemented notification system with webhook, Slack, Discord, and log notifiers. Includes cooldown/throttling, state tracking, and recovery notifications. All code review feedback addressed."}
{"id":"service_status-43k","title":"Add traceroute check support","description":"Inspired by Cyclenerd/static_status: Add traceroute checks to verify if a specific hop appears in the network path.\n\nThe static_status project supports this for scenarios like verifying your primary ISP is being used vs a backup connection:\n```\ntraceroute;192.168.211.1|DSL Internet;3\n```\n\nThis checks if a specific IP appears within N hops.\n\nLower priority as this is a niche use case, but valuable for network monitoring scenarios.","status":"open","priority":4,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:14.032285Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:34:14.032285Z"}
{"id":"service_status-594","title":"Error wrapping should use fmt.Errorf with %w","description":"File: main.go:35,42\n\nErrors should be wrapped with context using fmt.Errorf and %w verb for proper error chain support.\n\nFix: Use fmt.Errorf('context: %w', err) pattern.","status":"closed","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.193375Z","created_by":"Sion Williams","updated_at":"2026-01-22T10:36:57.37874Z","closed_at":"2026-01-22T10:36:57.37874Z","close_reason":"Improved error handling with proper context/wrapping using fmt.Errorf with %w verb. Removed unused errors import."}
{"id":"service_status-5q5","title":"Code simplification: validStatus can be simplified","description":"File: status/check.go:128-133\n\nThe validStatus function can be simplified to a single return statement.\n\nCurrent:\nif code == http.StatusOK { return true }\nreturn false\n\nSimplified:\nreturn code == http.StatusOK","status":"closed","priority":3,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.407282Z","created_by":"Sion Williams","updated_at":"2026-01-22T10:24:56.619861Z","closed_at":"2026-01-22T10:24:56.619861Z","close_reason":"Simplified validStatus to single return statement"}
{"id":"service_status-64w","title":"Add continuous polling / interval-based status checks","description":"## Current Behavior\n\nServices are checked **once at startup** (main.go lines 206-251), then a static page is served forever via `http.ListenAndServe`. To get updated status information, you must restart the entire application. There is no background polling or automatic refreshes on the server side.\n\n## Desired Behavior\n\nImplement a background goroutine that periodically re-checks all services at a configurable interval.\n\n### Requirements\n\n1. **Configurable polling interval** in `config.json`:\n   ```json\n   {\n     \"poll_interval\": 30,\n     \"services\": [...]\n   }\n   ```\n   Where `poll_interval` is the number of seconds between checks (e.g., 30 = check every 30 seconds).\n\n2. **Background polling goroutine** that:\n   - Runs continuously after startup\n   - Re-checks all configured services at the specified interval\n   - Updates the Page struct data atomically\n\n3. **Thread-safe data access** using `sync.RWMutex` or similar:\n   - The HTTP handler must always serve consistent, current status\n   - Writes (from polling goroutine) should not block reads (HTTP requests)\n   - Consider using `sync.RWMutex` to allow concurrent reads during checks\n\n4. **Graceful handling**:\n   - Default interval if not specified (e.g., 60 seconds)\n   - Validate interval is reasonable (minimum 5 seconds?)\n\n## Why This Matters\n\nThis is **foundational** for a status page to be useful. A status page that only shows the state at application startup is essentially useless for monitoring. Real-time (or near-real-time) status updates are the core value proposition of a status monitoring application.\n\n## Implementation Notes\n\n- The existing `Pinger` interface and factory pattern should work well for this\n- Consider adding a `LastChecked` timestamp to display when status was last updated\n- May want to add individual service check timestamps as well","status":"closed","priority":2,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:25:38.927271Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:27:46.554232Z","closed_at":"2026-01-23T16:27:46.554232Z","close_reason":"Superseded by epic - creating proper epic with detailed task breakdown"}
{"id":"service_status-676","title":"Ignored error from LoadConfiguration in main()","description":"File: main.go:74\n\nError returned by LoadConfiguration is ignored using blank identifier. Configuration failures will be silent.\n\nFix: Check the error and handle appropriately (log.Fatal or similar).","status":"closed","priority":1,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.285389Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:03:57.475597Z","closed_at":"2026-01-22T08:03:57.475597Z","close_reason":"Fixed: Proper error handling implemented. All tests pass with 79.4% coverage."}
{"id":"service_status-6q0","title":"Integrate SQLite storage into main application","description":"The SQLite storage layer (`status/storage.go`) is implemented but not yet integrated into `main.go`. This task should:\n\n## Requirements\n\n1. **Add a new config option `storage_path` (string)** to enable SQLite storage\n   - If empty or not set, storage is **disabled by default** (opt-in feature)\n   - If set to a path like `\"status.db\"`, storage is enabled\n\n2. **When storage is enabled:**\n   - Initialize `Storage` on startup\n   - Call `RecordStatus()` after each service status check\n   - Call `RecordAlert()` when notifications are sent (integrate with NotificationManager)\n   - Call `UpdateServiceState()` to persist current state\n   - Close storage cleanly on shutdown\n\n3. **Update `config.example.json`** to document the new `storage_path` option\n\n## Important\n\nStorage must be optional and default to OFF. Users should explicitly enable it by setting `storage_path` in their config.","status":"closed","priority":3,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T14:15:27.818243Z","created_by":"Sion Williams","updated_at":"2026-01-22T16:29:22.767137Z","closed_at":"2026-01-22T16:29:22.767137Z","close_reason":"Integrated SQLite storage with opt-in design, graceful error handling, IsOperational helper, and alert recording only when notifications succeed. Code reviewed and approved."}
{"id":"service_status-6u1","title":"Add JSON API output endpoint","description":"Inspired by Cyclenerd/static_status: Add a JSON API endpoint for programmatic status access.\n\nThe static_status project generates a JSON file alongside HTML:\n```json\n[\n  {\n    \"site\": \"https://example.com\",\n    \"command\": \"curl\",\n    \"status\": \"OK\",\n    \"time_sec\": \"0\",\n    \"updated\": \"2023-04-19 14:01:23 UTC\"\n  }\n]\n```\n\nBenefits:\n- Integration with other monitoring tools\n- Custom dashboards\n- Mobile apps\n- Status aggregation\n- Automated responses\n\nImplementation: Add /api/status or /status.json endpoint returning structured data.","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:43.097397Z","created_by":"Sion Williams","updated_at":"2026-01-23T07:29:12.528176Z","closed_at":"2026-01-23T07:29:12.528176Z","close_reason":"Implemented /api/status JSON endpoint with RFC 3339 timestamps, proper error handling via json.Marshal buffering, HTTP method restrictions (GET/HEAD only), and comprehensive test coverage. Code reviewed and approved."}
{"id":"service_status-81v","title":"Refactor HTTP handlers to use StatusMonitor","description":"## Task 5: Refactor HTTP Handlers\n\n### Goal\nChange HTTP handlers from closing over a static Page to fetching current state from StatusMonitor on each request.\n\n### Current (Broken) Pattern\n```go\n// status/page.go\nfunc Index(p Page) http.HandlerFunc {\n    return func(w http.ResponseWriter, r *http.Request) {\n        // p is captured by value - never updates!\n        tmpl.Execute(w, p)\n    }\n}\n```\n\n### New Pattern\n```go\nfunc Index(monitor *StatusMonitor) http.HandlerFunc {\n    return func(w http.ResponseWriter, r *http.Request) {\n        p := monitor.GetPage()  // Fresh data on every request!\n        tmpl.Execute(w, p)\n    }\n}\n\nfunc APIStatus(monitor *StatusMonitor) http.HandlerFunc {\n    return func(w http.ResponseWriter, r *http.Request) {\n        p := monitor.GetPage()\n        json.NewEncoder(w).Encode(p)\n    }\n}\n```\n\n### Changes Required\n1. Update Index() signature and implementation\n2. Update APIStatus() signature and implementation  \n3. Update main.go to pass StatusMonitor instead of Page\n4. Update any tests that use these handlers\n\n### Acceptance Criteria\n- [ ] Index() takes *StatusMonitor parameter\n- [ ] APIStatus() takes *StatusMonitor parameter\n- [ ] Each request fetches fresh Page data\n- [ ] Existing tests updated and passing\n- [ ] New test verifying dynamic updates are visible","status":"open","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:28:38.23584Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:28:38.23584Z","dependencies":[{"issue_id":"service_status-81v","depends_on_id":"service_status-ito","type":"blocks","created_at":"2026-01-23T16:28:47.122212Z","created_by":"Sion Williams"},{"issue_id":"service_status-81v","depends_on_id":"service_status-pcg","type":"blocks","created_at":"2026-01-23T16:29:03.692905Z","created_by":"Sion Williams"}]}
{"id":"service_status-857","title":"Add past incidents/history tracking","description":"Inspired by Cyclenerd/static_status: Track and display past incidents on the status page.\n\nThe static_status project maintains:\n- status_hostname_history.txt - Historical incident data\n- 'Past Incidents' section on status page\n- MY_MIN_DOWN_TIME - Only show incidents longer than N seconds\n\nThis provides:\n- Transparency about past outages\n- Historical context for recurring issues\n- Accountability and trust building\n- Incident duration tracking\n\nImplementation:\n1. Persist status changes to a history file/database\n2. Track incident start time, end time, duration\n3. Display recent incidents on status page\n4. Consider SQLite or simple file-based storage","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:58.412324Z","created_by":"Sion Williams","updated_at":"2026-01-23T10:11:38.012622Z","closed_at":"2026-01-23T10:11:38.012622Z","close_reason":"Implemented incident tracking with automatic transition detection, GetRecentResolvedIncidents with duration filtering, ToIncidentInfo helper, atomic state updates in RecordStatusTransition, and comprehensive tests. Code reviewed and approved."}
{"id":"service_status-88m","title":"Migrate CI from Travis CI to GitHub Actions","status":"closed","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:57:05.588068Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:48:24.298603Z","closed_at":"2026-01-22T08:48:24.298603Z","close_reason":"Migrated to GitHub Actions with Go 1.21/1.22 matrix, removed Travis CI config, updated README badge"}
{"id":"service_status-88o","title":"Ignored error from json.Decode in LoadConfiguration","description":"File: main.go:61\n\nError returned by jsonParser.Decode(\u0026config) is not checked. Malformed JSON will be silently ignored.\n\nFix: Check and return the error from Decode().","status":"closed","priority":1,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.21071Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:03:57.473942Z","closed_at":"2026-01-22T08:03:57.473942Z","close_reason":"Fixed: Proper error handling implemented. All tests pass with 79.4% coverage."}
{"id":"service_status-8pb","title":"Implement reactive status page","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:57:05.589299Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:28:06.173157Z","closed_at":"2026-01-22T13:28:06.173157Z","close_reason":"Implemented reactive status page with auto-refresh: added \u003cmeta http-equiv=\"refresh\" content=\"30\"\u003e to templates/status.gohtml for 30-second auto-reload."}
{"id":"service_status-9if","title":"Ignored error from ioutil.ReadAll in Grep.Status()","description":"File: status/check.go:102\n\nRead errors from ioutil.ReadAll are silently ignored. Network issues during body read will be masked.\n\nFix: Check and return the error from ReadAll().","status":"closed","priority":1,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.452413Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:03:57.478535Z","closed_at":"2026-01-22T08:03:57.478535Z","close_reason":"Fixed: Proper error handling implemented. All tests pass with 79.4% coverage."}
{"id":"service_status-ati","title":"Configurable server port with dev mode auto-discovery","description":"## Current Behavior\n- Server always binds to hardcoded `:8080` (main.go:299)\n- No configuration option for port\n- If port 8080 is in use, server fails to start\n\n## Desired Behavior\n\n**Production mode (default):**\n- User specifies port in config.json: `\"port\": 8080`\n- Server binds to exactly that port\n- If port unavailable, fail with clear error message\n\n**Development mode:**\n- Triggered by `\"dev_mode\": true` in config OR `--dev` CLI flag\n- If port is 0 or omitted, auto-discover available port\n- Scan ports starting from 8080, incrementing until finding an available one\n- Range: 8080-8099 (20 attempts max)\n- Log clearly: \"Server listening on http://localhost:8083\" (or whatever port was found)\n\n## Implementation Notes\n\n**Config changes:**\n```json\n{\n  \"port\": 8080,           // specific port (0 = auto in dev mode)\n  \"dev_mode\": false,      // enables auto-discovery and verbose logging\n  \"services\": [...]\n}\n```\n\n**CLI flag:**\n- `--dev` flag overrides config dev_mode to true\n- Usage: `go run main.go --dev config.json`\n\n**Port discovery logic:**\n```go\nfunc findAvailablePort(start, maxAttempts int) (int, error) {\n    for i := 0; i \u003c maxAttempts; i++ {\n        port := start + i\n        addr := fmt.Sprintf(\":%d\", port)\n        listener, err := net.Listen(\"tcp\", addr)\n        if err == nil {\n            listener.Close()\n            return port, nil\n        }\n    }\n    return 0, errors.New(\"no available port found\")\n}\n```\n\n**Logging differences:**\n- Dev mode: \"Starting development server on http://localhost:8083\"\n- Prod mode: \"Starting server on :8080\"","status":"open","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:32:52.262148Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:32:52.262148Z","dependencies":[{"issue_id":"service_status-ati","depends_on_id":"service_status-noq","type":"blocks","created_at":"2026-01-23T16:37:57.669308Z","created_by":"Sion Williams"}]}
{"id":"service_status-av0","title":"Add static site generation mode","description":"Inspired by Cyclenerd/static_status: Add mode to generate static HTML files instead of running a web server.\n\nThe static_status project is designed for static generation:\n- Generates status_index.html file\n- Run via cron to update periodically\n- Host on any static file server (GitHub Pages, S3, etc.)\n\nCurrently our Go app runs as a web server that checks on each request.\n\nBenefits of static generation:\n- Deploy to any hosting (GitHub Pages, CDN, S3)\n- No server process to maintain\n- Can be triggered by CI/CD\n- Works with existing static site workflows\n\nImplementation:\n1. Add CLI flag for static generation mode (-static or -output)\n2. Write HTML to file instead of serving\n3. Support one-shot execution (check once, generate, exit)\n4. Keep web server mode as default","status":"open","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:35:24.530556Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:35:24.530556Z"}
{"id":"service_status-b1f","title":"Godoc comment improvements needed","description":"Multiple files need Godoc improvements:\n\n1. main.go:19-21 - Multi-line comment could be single line\n2. Multiple files - Comments missing periods (should be complete sentences)\n\nFix: Ensure all exported items have proper Godoc comments that are complete sentences ending with periods.","status":"closed","priority":3,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.298337Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:28:06.054115Z","closed_at":"2026-01-22T13:28:06.054115Z","close_reason":"Fixed Godoc comments in main.go, status/check.go, status/page.go: added periods, fixed grammar (return→returns, which→that), consolidated multi-line comments."}
{"id":"service_status-bd5","title":"Tests make external network calls","description":"File: status/check_test.go:30-36,83-89,92-98\n\nTests make external network calls to real websites, making them:\n- Flaky (network issues cause failures)\n- Slow (real HTTP requests)\n- Non-reproducible\n\nFix: Use httptest.NewServer for HTTP mocking as shown in AGENTS.md guidelines.","status":"closed","priority":3,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.36423Z","created_by":"Sion Williams","updated_at":"2026-01-22T09:02:51.019007Z","closed_at":"2026-01-22T09:02:51.019007Z","close_reason":"Fixed in commit dad4d78: Replaced t.Fail() with descriptive t.Errorf(), replaced external network calls with httptest.NewServer mocks, improved table-driven test assertions"}
{"id":"service_status-bm5","title":"Iterate over and test each service from config","status":"closed","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:57:05.586515Z","created_by":"Sion Williams","updated_at":"2026-01-22T12:01:43.980881Z","closed_at":"2026-01-22T12:01:43.980881Z","close_reason":"Verified and tested service iteration logic. The main.go correctly iterates over all services from config.json using a for-range loop in CreateFactories() and in main(). The break-to-continue fix (service_status-w7z) ensures all services are tested even if some fail. Added comprehensive tests in main_test.go covering: table-driven tests for CreateFactories (empty, single, multiple, mixed, and unknown service types), iteration verification test confirming all services are processed, and LoadConfiguration tests. All CI checks pass (build, tests with race detector, vet, coverage at 78.8%)."}
{"id":"service_status-bsq","title":"Add configurable timeout settings","description":"Inspired by Cyclenerd/static_status: Add configurable timeout settings for checks.\n\nThe static_status project has granular timeout configuration:\n- MY_TIMEOUT='2' - General timeout (curl, nc, traceroute)\n- MY_PING_TIMEOUT='4' - Ping-specific timeout\n- MY_PING_COUNT='2' - Number of ping attempts\n- MY_SCRIPT_TIMEOUT='20' - Custom script timeout\n\nCurrently our Go implementation likely uses default http.Client timeouts.\n\nImplementation:\n1. Add timeout fields to config.json (global and per-service)\n2. Create http.Client with configurable timeout\n3. Support per-check-type default timeouts\n4. Allow per-service timeout overrides","status":"open","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:35:13.379406Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:35:13.379406Z","dependencies":[{"issue_id":"service_status-bsq","depends_on_id":"service_status-noq","type":"blocks","created_at":"2026-01-23T16:37:53.946307Z","created_by":"Sion Williams"}]}
{"id":"service_status-c2r","title":"Add webhook status change hooks","description":"Inspired by Cyclenerd/static_status: Add webhook support to trigger external actions on status changes.\n\nThe static_status project supports:\n```\nMY_HOOK_STATUS=''  # Path to script called on status change\n# Receives: new_status, command, hostname\n```\n\nModern implementation should support webhooks:\n- HTTP POST to configured URL on status change\n- Include service details, old status, new status\n- Support multiple webhook endpoints\n- Optional authentication headers\n\nUse cases:\n- Trigger automated remediation\n- Update external dashboards\n- Log to external systems\n- Integration with PagerDuty, OpsGenie, etc.","status":"open","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:35:13.382188Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:35:13.382188Z"}
{"id":"service_status-c8w","title":"Add custom script check support","description":"Inspired by Cyclenerd/static_status: Add support for running custom scripts/commands as health checks.\n\nThe static_status project supports this via:\n```\nscript;/path/to/script.sh|Custom Text\nscript;/path/to/script.sh parameterA parameterB|Custom Text\n```\n\nReturn codes:\n- 0 = OK/Available\n- 80 = Degraded (special status)\n- Other = Failure/Down\n\nThis enables checking anything that can be scripted:\n- Database queries\n- API authentication tests\n- Certificate expiration\n- Disk space\n- Custom business logic\n\nImplementation: Add a 'script' check type that executes external commands and interprets return codes.","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:29.113957Z","created_by":"Sion Williams","updated_at":"2026-01-22T16:04:28.225998Z","closed_at":"2026-01-22T16:04:28.225998Z","close_reason":"Implemented custom script check support with 30s timeout, exit code interpretation (0=OK, 80=Degraded, other=Failure), quoted argument parsing, and DisplayName fallback. Code reviewed and approved."}
{"id":"service_status-cc4","title":"Critical Bug: Defer before error check in LoadConfiguration","description":"File: main.go:55-58\n\nThe defer configFile.Close() is called BEFORE checking if os.Open returned an error. This will cause a panic on file open failure since we'd be trying to close a nil file handle.\n\nFix: Move the defer after the error check.","status":"closed","priority":1,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.418499Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:03:57.472027Z","closed_at":"2026-01-22T08:03:57.472027Z","close_reason":"Fixed: Proper error handling implemented. All tests pass with 79.4% coverage."}
{"id":"service_status-ce2","title":"Integration and testing for continuous polling","description":"## Task 7: Integration and Testing\n\n### Goal\nWire everything together in main() and ensure comprehensive test coverage.\n\n### Integration Work\n1. Update main() to:\n   - Create StatusMonitor with initial Page\n   - Start polling goroutine if interval \u003e 0\n   - Pass StatusMonitor to HTTP handlers\n   - Handle graceful shutdown\n\n2. Ensure backwards compatibility:\n   - poll_interval=0 works like before (one-shot)\n   - Existing config.json files still work\n\n### Testing Requirements\n\n#### Unit Tests\n- [ ] StatusMonitor concurrent access (multiple readers, one writer)\n- [ ] Polling starts/stops correctly\n- [ ] Config validation (min interval, defaults)\n\n#### Integration Tests\n- [ ] Full startup -\u003e poll -\u003e shutdown cycle\n- [ ] HTTP handler returns updated data after poll\n- [ ] Race detector passes under load\n\n#### Manual Testing\n- [ ] Start app, watch logs for polling\n- [ ] Hit /api/status multiple times, verify timestamps update\n- [ ] Ctrl+C triggers clean shutdown\n\n### Test Ideas\n```go\nfunc TestPollingUpdatesPage(t *testing.T) {\n    // Create monitor with initial page\n    // Start polling with mock check function\n    // Wait for poll cycle\n    // Verify GetPage() returns updated data\n}\n\nfunc TestConcurrentAccess(t *testing.T) {\n    // Run with -race flag\n    // Multiple goroutines calling GetPage()\n    // One goroutine updating via polling\n    // No races detected\n}\n```\n\n### Acceptance Criteria\n- [ ] All components wired together in main()\n- [ ] All tests pass with -race flag\n- [ ] Backwards compatible with poll_interval=0\n- [ ] Clean shutdown works correctly\n- [ ] Documentation updated if needed","status":"open","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:28:38.245237Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:28:38.245237Z","dependencies":[{"issue_id":"service_status-ce2","depends_on_id":"service_status-ito","type":"blocks","created_at":"2026-01-23T16:28:47.129026Z","created_by":"Sion Williams"},{"issue_id":"service_status-ce2","depends_on_id":"service_status-81v","type":"blocks","created_at":"2026-01-23T16:28:59.907387Z","created_by":"Sion Williams"},{"issue_id":"service_status-ce2","depends_on_id":"service_status-081","type":"blocks","created_at":"2026-01-23T16:28:59.920728Z","created_by":"Sion Williams"}]}
{"id":"service_status-dkk","title":"Ignored error from tpl.ExecuteTemplate in Index handler","description":"File: status/page.go:27\n\nTemplate execution errors will be silent. Users may see incomplete pages with no indication of the problem.\n\nFix: Check the error and return an HTTP 500 error or log appropriately.","status":"closed","priority":1,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.285384Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:03:57.479804Z","closed_at":"2026-01-22T08:03:57.479804Z","close_reason":"Fixed: Proper error handling implemented. All tests pass with 79.4% coverage."}
{"id":"service_status-dlb","title":"Add maintenance mode support","description":"Inspired by Cyclenerd/static_status: Add maintenance mode to display a custom message and suppress error states.\n\nThe static_status project supports this via a maintenance text file:\n- status_maintenance_text.txt\n- If the file exists and has content, all errors are overwritten with maintenance message\n- Displays a prominent banner on the status page\n\nUse cases:\n- Planned downtime for upgrades\n- Scheduled maintenance windows\n- Prevent alert spam during known outages\n\nImplementation:\n1. Add maintenance configuration option (file path or inline text)\n2. Update template with maintenance banner styling\n3. When maintenance mode active, don't report errors","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:43.077379Z","created_by":"Sion Williams","updated_at":"2026-01-22T18:36:53.165372Z","closed_at":"2026-01-22T18:36:53.165372Z","close_reason":"Implemented maintenance mode with file-based and inline config, proper error handling for file reads, service count logging, and multi-line message support. Code reviewed and approved."}
{"id":"service_status-dwx","title":"Extract StatusChecker from main loop","description":"## Task 1: Extract StatusChecker Function\n\n### Goal\nMove the status checking logic from main.go:206-251 into a reusable function. This is a pure refactor with no behavior change.\n\n### Implementation\n\nCreate a new function with this signature:\n```go\nfunc CheckAllServices(\n    services []Pinger, \n    storage *Storage, \n    notifyManager *NotificationManager, \n    maintenanceMsg string,\n) (up []ServiceInfo, degraded, down map[string]OutageInfo)\n```\n\n### Requirements\n- Extract the for-loop that iterates over services and checks each one\n- Keep the same logic for categorizing services into up/degraded/down\n- Keep the same notification and storage update logic\n- Function should be in a new file or appropriately placed\n- Must pass all existing tests\n\n### Acceptance Criteria\n- [ ] Function extracted and callable\n- [ ] main() calls the new function instead of inline code\n- [ ] All existing tests pass\n- [ ] No behavior change from user perspective","status":"open","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:28:38.25796Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:28:38.25796Z","dependencies":[{"issue_id":"service_status-dwx","depends_on_id":"service_status-ito","type":"blocks","created_at":"2026-01-23T16:28:47.117437Z","created_by":"Sion Williams"}]}
{"id":"service_status-e6p","title":"Add ICMP ping check support","description":"Inspired by Cyclenerd/static_status: Add true ICMP ping support to check host reachability at the network level.\n\nCurrently our 'ping' check type actually performs an HTTP HEAD request, not a real ping. The static_status project supports actual ICMP ping via:\n```\nping;8.8.8.8|Google DNS\n```\n\nImplementation options:\n1. Use Go's x/net/icmp package for native ICMP (requires elevated privileges)\n2. Shell out to system ping command\n3. Use a third-party library like go-ping\n\nThis would allow monitoring basic network connectivity without requiring HTTP services.","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:14.031326Z","created_by":"Sion Williams","updated_at":"2026-01-22T15:28:12.959408Z","closed_at":"2026-01-22T15:28:12.959408Z","close_reason":"Implemented ICMP ping check support with platform-specific handling (macOS/Linux), hostname validation to prevent command injection, and comprehensive tests. All code review feedback addressed including critical security fix."}
{"id":"service_status-ff8","title":"Deprecated ioutil.ReadAll usage","description":"File: status/check.go:5,102\n\nioutil.ReadAll has been deprecated since Go 1.16. Should use io.ReadAll instead.\n\nFix: Replace ioutil.ReadAll with io.ReadAll and update imports.","status":"closed","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.362251Z","created_by":"Sion Williams","updated_at":"2026-01-22T09:05:55.224707Z","closed_at":"2026-01-22T09:05:55.224707Z","close_reason":"Replaced deprecated ioutil.ReadAll with io.ReadAll in status/check.go. Updated import from io/ioutil to io."}
{"id":"service_status-g60","title":"Add auto-refresh for status page","description":"Inspired by Cyclenerd/static_status: Add auto-refresh capability to the status page.\n\nThe static_status project supports:\n```\nMY_AUTOREFRESH='0'  # 0 = disabled, otherwise seconds\n```\n\nThis allows the browser to automatically reload the page at configured intervals.\n\nImplementation options:\n1. Add meta refresh tag: \u003cmeta http-equiv='refresh' content='60'\u003e\n2. JavaScript-based refresh with countdown\n3. WebSocket for real-time updates (more complex)\n\nLower priority as users can manually refresh, but nice for dashboard displays.","status":"open","priority":4,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:35:13.401822Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:35:13.401822Z"}
{"id":"service_status-gkd","title":"Add poll_interval config field","description":"## Task 3: Add poll_interval Configuration\n\n### Goal\nAdd a configurable polling interval to the application config.\n\n### Implementation\n\nUpdate Config struct in main.go:\n```go\ntype Config struct {\n    PollInterval int       `json:\"poll_interval\"`  // seconds between checks\n    Services     []Service `json:\"services\"`\n    // ... other fields\n}\n```\n\n### Validation Rules\n- Minimum: 5 seconds (prevent abuse/DoS)\n- Default: 30 seconds (if not specified or 0)\n- Special: 0 means disabled (one-shot mode for backwards compatibility)\n\n### Config Example\n```json\n{\n  \"poll_interval\": 30,\n  \"services\": [...]\n}\n```\n\n### Acceptance Criteria\n- [ ] PollInterval field added to Config struct\n- [ ] JSON parsing works correctly\n- [ ] Validation enforces minimum 5 seconds\n- [ ] Default value of 30 seconds when omitted\n- [ ] 0 explicitly means one-shot mode (no polling)\n- [ ] Update config.json with example\n- [ ] Tests for validation logic","status":"open","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:28:38.237732Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:28:38.237732Z","dependencies":[{"issue_id":"service_status-gkd","depends_on_id":"service_status-ito","type":"blocks","created_at":"2026-01-23T16:28:51.926234Z","created_by":"Sion Williams"},{"issue_id":"service_status-gkd","depends_on_id":"service_status-noq","type":"blocks","created_at":"2026-01-23T16:37:53.930803Z","created_by":"Sion Williams"}]}
{"id":"service_status-ho4","title":"Add custom display names for services","description":"Inspired by Cyclenerd/static_status: Allow custom display names instead of showing raw URLs.\n\nThe static_status project supports this via pipe separator:\n```\nping;8.8.8.8|Google DNS\ncurl;http://www.heise.de/ping|www.heise.de\n```\n\nBenefits:\n- User-friendly service names\n- Hide internal URLs/IPs from public page\n- Group related checks visually\n- Better readability\n\nImplementation:\n1. Add 'name' or 'displayName' field to Service struct\n2. Update config.json schema\n3. Use display name in template if provided, fall back to URL","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:58.427813Z","created_by":"Sion Williams","updated_at":"2026-01-22T15:15:31.039568Z","closed_at":"2026-01-22T15:15:31.039568Z","close_reason":"Implemented custom display names with Name field in Service struct, DisplayName() method with URL fallback, and factory support. All tests pass, code review approved with no changes needed."}
{"id":"service_status-ito","title":"Add continuous polling / interval-based status checks","description":"## Epic: Continuous Polling for Status Page\n\n### Background\nCurrently the service_status application checks services ONCE at startup, then serves stale data forever. This epic implements interval-based polling with thread-safe page updates.\n\n### Current Architecture Problems\n1. **Closure capture issue**: handlers take Page by VALUE and close over it - never see updates\n2. **No concurrency primitives**: Page struct has no mutex protection\n3. **Tight coupling**: Status checking logic is inline in main()\n4. **No graceful shutdown**: No context/signal handling\n\n### Target Architecture\n- StatusMonitor component with sync.RWMutex for thread-safe Page access\n- Background goroutine polling at configurable interval\n- HTTP handlers call StatusMonitor.GetPage() on each request\n- Graceful shutdown on SIGINT/SIGTERM\n\n### Child Tasks (7 total)\n1. Extract StatusChecker from main loop\n2. Create StatusMonitor struct with thread-safe Page access\n3. Add poll_interval config field\n4. Implement background polling goroutine\n5. Refactor HTTP handlers to use StatusMonitor\n6. Add graceful shutdown with signal handling\n7. Integration and testing\n\nSee child issues for detailed specifications.","status":"open","priority":2,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:27:54.06054Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:27:54.06054Z"}
{"id":"service_status-jkw","title":"Test assertions could be more descriptive","description":"File: status/check_test.go (multiple locations)\n\nTests use t.Fail() without descriptive messages, making test failures harder to diagnose.\n\nFix: Use t.Errorf() with descriptive messages instead of t.Fail().","status":"closed","priority":3,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.170479Z","created_by":"Sion Williams","updated_at":"2026-01-22T09:02:51.016902Z","closed_at":"2026-01-22T09:02:51.016902Z","close_reason":"Fixed in commit dad4d78: Replaced t.Fail() with descriptive t.Errorf(), replaced external network calls with httptest.NewServer mocks, improved table-driven test assertions"}
{"id":"service_status-kr3","title":"Factory and Grep receiver naming inconsistency","description":"File: status/check.go\n\nMultiple receiver naming issues:\n1. Lines 69,116 - Factory receivers should use short names\n2. Lines 84,90 - Grep receiver uses 'p' instead of 'g' (confusing, copy-paste from Ping)\n\nFix: Use consistent short receiver names (f for factory, g for Grep, p for Ping).","status":"closed","priority":3,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.405963Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:28:06.172099Z","closed_at":"2026-01-22T13:28:06.172099Z","close_reason":"Fixed receiver naming: factory→f for PingFactory/GrepFactory, p→g for Grep methods. Updated all usages in method bodies."}
{"id":"service_status-m1t","title":"Incorrect error message in CreateFactories for grep case","description":"File: main.go:42\n\nError message says 'failed to create ping object' but it's in the grep case. Copy-paste error.\n\nFix: Change message to 'failed to create grep object'.","status":"closed","priority":2,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.321774Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:07:16.79093Z","closed_at":"2026-01-22T08:07:16.79093Z","close_reason":"Fixed in commit 2d189a9"}
{"id":"service_status-noq","title":"Migrate configuration to spf13/viper library","description":"## Why Viper?\nThe project currently uses standard library `encoding/json` for config loading (main.go:117-131). As we add more configuration options, Viper provides:\n\n1. **Environment variable overrides** - e.g., `SERVICE_STATUS_PORT=9000 ./service_status config.json`\n2. **CLI flag binding** - integrates with pflags for `--dev`, `--port` flags\n3. **Multiple config formats** - YAML, TOML, JSON, etc.\n4. **Default values** - set defaults in code, override from file/env/flags\n5. **Config merging** - layer configs in priority order (defaults \u003c file \u003c env \u003c flags)\n\n## Implementation Tasks\n\n1. Add Viper dependency: `go get github.com/spf13/viper`\n2. Create `config/config.go` with:\n   - `SetDefaults()` function for default values\n   - `LoadConfig(configPath string) (*Config, error)` using Viper\n   - Env var binding with prefix `SERVICE_STATUS_` (e.g., `SERVICE_STATUS_PORT`)\n3. Update Config struct to use mapstructure tags alongside json tags\n4. Replace `LoadConfiguration()` call in main.go with Viper-based loading\n5. Add YAML config example (`config.yaml`) alongside existing `config.json`\n6. Update tests to work with new config loading\n\n## Acceptance Criteria\n- [ ] Viper dependency added and go.mod updated\n- [ ] Config loading works with JSON, YAML formats\n- [ ] Environment variables with SERVICE_STATUS_ prefix override config values\n- [ ] Existing config.json still works (backward compatible)\n- [ ] Tests pass with new config loading","status":"in_progress","priority":2,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:37:49.240296Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:45:48.510694Z"}
{"id":"service_status-pcg","title":"Create StatusMonitor struct with thread-safe Page access","description":"## Task 2: Create StatusMonitor Struct\n\n### Goal\nCreate a new component that provides thread-safe access to the Page struct for concurrent reads (HTTP handlers) and writes (polling goroutine).\n\n### Implementation\n\nNew file: `status/monitor.go`\n\n```go\ntype StatusMonitor struct {\n    mu   sync.RWMutex\n    page Page\n}\n\n// NewStatusMonitor creates a monitor with the initial page state\nfunc NewStatusMonitor(initialPage Page) *StatusMonitor\n\n// GetPage returns a copy of the current page (read lock)\nfunc (m *StatusMonitor) GetPage() Page\n\n// updatePage sets the page data (write lock) - unexported\nfunc (m *StatusMonitor) updatePage(p Page)\n```\n\n### Requirements\n- Use sync.RWMutex for optimal read performance\n- GetPage() returns a COPY of Page to prevent data races\n- updatePage() is unexported - only StatusMonitor controls writes\n- Constructor takes initial Page for backwards compatibility\n\n### Acceptance Criteria\n- [ ] StatusMonitor struct implemented\n- [ ] Thread-safe GetPage() method\n- [ ] Thread-safe updatePage() method\n- [ ] Unit tests for concurrent access\n- [ ] Test verifying copy semantics (caller can't modify internal state)","status":"open","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:28:38.249401Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:28:38.249401Z","dependencies":[{"issue_id":"service_status-pcg","depends_on_id":"service_status-ito","type":"blocks","created_at":"2026-01-23T16:28:47.130532Z","created_by":"Sion Williams"},{"issue_id":"service_status-pcg","depends_on_id":"service_status-dwx","type":"blocks","created_at":"2026-01-23T16:28:59.92621Z","created_by":"Sion Williams"}]}
{"id":"service_status-pob","title":"Add degraded status support","description":"Inspired by Cyclenerd/static_status: Add support for a 'degraded' status in addition to up/down.\n\nThe static_status project supports three states:\n- OK (green) - Service fully operational\n- Degraded (orange/yellow) - Service partially working or slow\n- Down (red) - Service unavailable\n\nThis allows for more nuanced status reporting:\n- Script checks can return code 80 for degraded\n- HTTP checks could consider slow responses as degraded\n- Partial failures in distributed systems\n\nImplementation:\n1. Update Page struct to include Degraded map\n2. Update template with yellow/orange styling\n3. Update check interfaces to support degraded state","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:29.113755Z","created_by":"Sion Williams","updated_at":"2026-01-22T15:51:25.699168Z","closed_at":"2026-01-22T15:51:25.699168Z","close_reason":"Implemented degraded status support with ErrServiceDegraded sentinel error, IsDegraded helper, StatusHTML validation, template updates, and defaultOutageMinutes constant. Code reviewed and approved."}
{"id":"service_status-re4","title":"Tests could use table-driven pattern more consistently","description":"File: status/check_test.go\n\nSome tests don't follow the table-driven pattern used elsewhere in the codebase.\n\nFix: Refactor tests to use consistent table-driven patterns as shown in AGENTS.md guidelines.","status":"closed","priority":3,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.447048Z","created_by":"Sion Williams","updated_at":"2026-01-22T09:02:51.02055Z","closed_at":"2026-01-22T09:02:51.02055Z","close_reason":"Fixed in commit dad4d78: Replaced t.Fail() with descriptive t.Errorf(), replaced external network calls with httptest.NewServer mocks, improved table-driven test assertions"}
{"id":"service_status-rhz","title":"Add configurable page title and branding","description":"Inspired by Cyclenerd/static_status: Add configuration for page title, footer, and branding.\n\nThe static_status project supports:\n```\nMY_STATUS_TITLE='Status Page'\nMY_HOMEPAGE_URL='https://...'\nMY_HOMEPAGE_TITLE='Homepage'\nMY_STATUS_FOOTER='Powered by...'\nMY_STATUS_STYLESHEET='...'  # Custom CSS\nMY_STATUS_FONTAWESOME='...'\n```\n\nCurrently our page title is hardcoded to 'My Status'.\n\nImplementation:\n1. Add title, footer, homepage URL to config\n2. Support custom CSS stylesheet URL\n3. Make branding fully configurable","status":"open","priority":4,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:35:24.530824Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:35:24.530824Z"}
{"id":"service_status-rxn","title":"Typo in Godoc comment: responce should be response","description":"File: status/check.go:50\n\nTypo: 'responce' should be 'response'.\n\nFix: Correct the spelling in the comment.","status":"closed","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.239164Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:28:06.052929Z","closed_at":"2026-01-22T13:28:06.052929Z","close_reason":"Fixed typo: 'responce' → 'response' in status/check.go line 50"}
{"id":"service_status-v1k","title":"Implement background polling goroutine","description":"## Task 4: Background Polling Goroutine\n\n### Goal\nAdd a Start() method to StatusMonitor that runs a background goroutine for periodic status checks.\n\n### Implementation\n\n```go\n// Start begins background polling. Blocks until context is cancelled.\n// Call in a goroutine: go monitor.Start(ctx, checkFn, interval)\nfunc (m *StatusMonitor) Start(\n    ctx context.Context,\n    checkFn func() Page,  // function that performs status check\n    interval time.Duration,\n)\n```\n\n### Behavior\n1. Immediately perform first check (don't wait for first tick)\n2. Use time.Ticker for subsequent checks at interval\n3. On each tick: call checkFn(), then updatePage() with result\n4. Respect context cancellation for clean shutdown\n5. Log when starting/stopping polling\n\n### Edge Cases\n- If interval is 0, don't start polling (one-shot mode)\n- If context is already cancelled, return immediately\n- Ensure ticker is stopped on exit (defer ticker.Stop())\n\n### Acceptance Criteria\n- [ ] Start() method implemented\n- [ ] Ticker-based polling loop\n- [ ] Context cancellation stops polling cleanly\n- [ ] First check happens immediately\n- [ ] Tests for polling behavior\n- [ ] Tests for graceful shutdown","status":"open","priority":2,"issue_type":"task","owner":"sion5@hotmail.co.uk","created_at":"2026-01-23T16:28:38.242649Z","created_by":"Sion Williams","updated_at":"2026-01-23T16:28:38.242649Z","dependencies":[{"issue_id":"service_status-v1k","depends_on_id":"service_status-ito","type":"blocks","created_at":"2026-01-23T16:28:47.125525Z","created_by":"Sion Williams"},{"issue_id":"service_status-v1k","depends_on_id":"service_status-pcg","type":"blocks","created_at":"2026-01-23T16:28:59.906026Z","created_by":"Sion Williams"},{"issue_id":"service_status-v1k","depends_on_id":"service_status-gkd","type":"blocks","created_at":"2026-01-23T16:28:59.911086Z","created_by":"Sion Williams"},{"issue_id":"service_status-v1k","depends_on_id":"service_status-dwx","type":"blocks","created_at":"2026-01-23T16:28:59.91455Z","created_by":"Sion Williams"}]}
{"id":"service_status-w7z","title":"Logic bug: break instead of continue in main loop","description":"File: main.go:88\n\nUsing break instead of continue means only the first failing service is recorded; remaining services are not checked.\n\nFix: Change break to continue to check all services.","status":"closed","priority":2,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.162827Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:07:16.794097Z","closed_at":"2026-01-22T08:07:16.794097Z","close_reason":"Fixed in commit 2d189a9"}
{"id":"service_status-wbn","title":"Add SQLite persistent data storage","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:57:05.591348Z","created_by":"Sion Williams","updated_at":"2026-01-22T14:07:56.417928Z","closed_at":"2026-01-22T14:07:56.417928Z","close_reason":"Implemented SQLite persistent storage layer with StatusRecord, AlertRecord, and ServiceState tables. Includes full CRUD operations, history queries, and pruning. All code review feedback addressed."}
{"id":"service_status-xg2","title":"Ignored error from http.ListenAndServe","description":"File: main.go:103\n\nServer startup failures will be silent. If the port is in use or binding fails, the program will exit without any indication of why.\n\nFix: Check the error and use log.Fatal() to report it.","status":"closed","priority":1,"issue_type":"bug","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T07:53:21.212153Z","created_by":"Sion Williams","updated_at":"2026-01-22T08:03:57.476975Z","closed_at":"2026-01-22T08:03:57.476975Z","close_reason":"Fixed: Proper error handling implemented. All tests pass with 79.4% coverage."}
{"id":"service_status-zwu","title":"Add SVG status icon generation","description":"Inspired by Cyclenerd/static_status: Generate an SVG status icon that can be embedded in other pages.\n\nThe static_status project creates a status.svg file:\n- Green if all services up\n- Orange if degraded\n- Red if any service down\n\nUse cases:\n- Embed status badge in README\n- Add to navigation header\n- Quick visual indicator without loading full page\n- Include in external dashboards\n\nImplementation:\n1. Add /status.svg endpoint\n2. Generate simple colored circle/badge SVG\n3. Support color customization in config","status":"open","priority":4,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:43.077606Z","created_by":"Sion Williams","updated_at":"2026-01-22T13:34:43.077606Z"}
{"id":"service_status-zyc","title":"Add response time tracking","description":"Inspired by Cyclenerd/static_status: Track and display response times for each check.\n\nThe static_status project tracks time_sec for each check:\n```json\n{\"site\": \"...\", \"status\": \"OK\", \"time_sec\": \"0\"}\n```\n\nThere's also an open feature request (#9) to display latency on the page.\n\nBenefits:\n- Identify slow services before they fail\n- Performance trending over time\n- SLA compliance monitoring\n- Degraded status based on response time thresholds\n\nImplementation:\n1. Measure request duration in each check type\n2. Store response time alongside status\n3. Display on status page (e.g., '✓ 45ms')\n4. Optionally mark slow responses as degraded","status":"closed","priority":3,"issue_type":"feature","owner":"sion5@hotmail.co.uk","created_at":"2026-01-22T13:34:58.409894Z","created_by":"Sion Williams","updated_at":"2026-01-23T09:44:12.755783Z","closed_at":"2026-01-23T09:44:12.755783Z","close_reason":"Implemented response time tracking with StatusWithTiming() method, statusWithTiming() helper to avoid duplication, ServiceInfo/OutageInfo structs, template display, and API integration. Code reviewed and approved."}
